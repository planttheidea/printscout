{"version":3,"sources":["webpack:///webpack/bootstrap bf48b1a7081b3fad2356","webpack:///./src/index.js","webpack:///./src/utils.js"],"names":[],"mappings":"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","file":"printscout.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap bf48b1a7081b3fad2356\n **/","import {\n  findAndRemoveHandler,\n  HAS_MATCH_MEDIA_SUPPORT,\n  HAS_ON_AFTER_PRINT,\n  HAS_ON_BEFORE_PRINT,\n  throwInvalidMethodError,\n  throwNotSupportedError\n} from './utils';\n\nconst AFTER_PRINT = 'afterprint';\nconst BEFORE_PRINT = 'beforeprint';\n\nclass PrintScout {\n  constructor() {\n    this.afterHandlers = [];\n    this.beforeHandlers = [];\n\n    if (!HAS_ON_AFTER_PRINT && !HAS_ON_BEFORE_PRINT && !HAS_MATCH_MEDIA_SUPPORT) {\n      throwNotSupportedError();\n    }\n  }\n\n  /**\n   * add listener to list of a handlers and add remove function\n   * to it\n   *\n   * @param {string} eventName\n   * @param {array<function>} handlers\n   * @param {function} handler\n   * @return {function}\n   * @private\n   */\n  _addListener(eventName, handlers, handler) {\n    window.addEventListener(eventName, handler);\n    handlers.push(handler);\n\n    handler.remove = () => {\n      this._removeListener(eventName, handler);\n\n      delete handler.remove;\n    };\n\n    return handler;\n  }\n\n  /**\n   * remove all listeners, either to the specific eventName if provided,\n   * or across the board\n   *\n   * @param {string} eventName\n   * @private\n   */\n  _removeAllListeners(eventName) {\n    let afterHandlerIndex = this.afterHandlers.length,\n        beforeHandlerIndex = this.beforeHandlers.length;\n\n    if (!eventName || eventName === 'after' || eventName === AFTER_PRINT) {\n      while (afterHandlerIndex--) {\n        this._removeListener(AFTER_PRINT, this.afterHandlers[afterHandlerIndex]);\n      }\n    }\n\n    if (!eventName || eventName === 'before' || eventName === BEFORE_PRINT) {\n      while (beforeHandlerIndex--) {\n        this._removeListener(BEFORE_PRINT, this.beforeHandlers[beforeHandlerIndex]);\n      }\n    }\n  }\n\n  /**\n   * remove a specific listener from the appropriate handlers\n   * \n   * @param {string} eventName\n   * @param {function} handler\n   * @return {PrintScout}\n   * @private\n   */\n  _removeListener(eventName, handler) {\n    const handlers = eventName === AFTER_PRINT ? this.afterHandlers : this.beforeHandlers;\n    const handlerIndex = handlers.indexOf(handler);\n\n    if (!!~handlerIndex) {\n      const handler = handlers[handlerIndex];\n\n      window.removeEventListener(eventName, handler);\n      findAndRemoveHandler(handlers, handler);\n    }\n\n    return this;\n  }\n\n  /**\n   * adds fn to the list of handlers\n   *\n   * @param {string} eventName\n   * @param {function} fn\n   * @returns {function}\n   */\n  addListener(eventName, fn) {\n    switch (eventName) {\n      case 'after':\n      case AFTER_PRINT:\n        return this._addListener(AFTER_PRINT, this.afterHandlers, fn);\n\n      case 'before':\n      case BEFORE_PRINT:\n        return this._addListener(BEFORE_PRINT, this.beforeHandlers, fn);\n\n      default:\n        throwInvalidMethodError(eventName);\n        return;\n    }\n  }\n\n  /**\n   * convenience function for adding an afterprint listener\n   *\n   * @param {function} fn\n   * @return {function}\n   */\n  after(fn) {\n    return this._addListener(AFTER_PRINT, this.afterHandlers, fn);\n  }\n\n  /**\n   * convenience function for adding a beforeprint listener\n   * \n   * @param {function} fn\n   * @return {function}\n   */\n  before(fn) {\n    return this._addListener(BEFORE_PRINT, this.beforeHandlers, fn);\n  }\n\n  /**\n   * removes the handler from the list of handlers for\n   * the given eventName\n   *\n   * if the handler is not given, all handlers for the\n   * given eventName are removed\n   *\n   * if the eventName is not given, all handlers across the\n   * board are removed\n   *\n   * @param {string} eventName\n   * @param {function} handler\n   * @returns {PrintScout}\n   */\n  removeListener(eventName, handler) {\n    if (!eventName || !handler) {\n      this._removeAllListeners(eventName);\n      return;\n    }\n\n    switch (eventName) {\n      case 'after':\n      case AFTER_PRINT:\n        return this._removeListener(AFTER_PRINT, handler);\n\n      case 'before':\n      case BEFORE_PRINT:\n        return this._removeListener(BEFORE_PRINT, handler);\n\n      default:\n        throwInvalidMethodError(eventName);\n        return this;\n    }\n  }\n}\n\nexport default PrintScout;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","const HAS_MATCH_MEDIA_SUPPORT = 'matchMedia' in window;\nconst HAS_ON_AFTER_PRINT = 'onafterprint' in window;\nconst HAS_ON_BEFORE_PRINT = 'onbeforeprint' in window;\n\nconst PRINT_MEDIA_QUERY_LIST = HAS_MATCH_MEDIA_SUPPORT ? window.matchMedia('print') : null;\n\n/**\n * when the Event constructor is supported then use it, else fall back\n * to creating event the old-fashioned way\n *\n * @param {string} eventName\n * @return {Event}\n */\nconst createNewEvent = (eventName) => {\n  try {\n    return new Event(eventName);\n  } catch (exception) {\n    const e = document.createEvent('Event');\n\n    e.initEvent(eventName, false, false);\n\n    return e;\n  }\n};\n\nif (!HAS_ON_AFTER_PRINT && HAS_MATCH_MEDIA_SUPPORT) {\n  PRINT_MEDIA_QUERY_LIST.addListener((mqlEvent) => {\n    if (!mqlEvent.matches) {\n      window.dispatchEvent(createNewEvent('afterprint'));\n    }\n  });\n}\n\nif (!HAS_ON_BEFORE_PRINT && HAS_MATCH_MEDIA_SUPPORT) {\n  PRINT_MEDIA_QUERY_LIST.addListener((mqlEvent) => {\n    if (mqlEvent.matches) {\n      window.dispatchEvent(createNewEvent('beforeprint'));\n    }\n  });\n}\n\n/**\n * find the matching handler and remove it from the\n * list of handlers\n *\n * @param {array<function>} handlers\n * @param {function} handler\n * @return {array<function>}\n */\nconst findAndRemoveHandler = (handlers, handler) => {\n  let handlerIndex = -1,\n    index = -1;\n\n  while (++index < handlers.length) {\n    if (handlers[index] === handler) {\n      handlerIndex = index;\n      break;\n    }\n  }\n\n  if (!!~handlerIndex) {\n    handlers.splice(handlerIndex, 1);\n  }\n\n  return handlers;\n};\n\n/**\n * if the method is invalid throw a new TypeError\n *\n * @param {string} method\n */\nconst throwInvalidMethodError = (method) => {\n  throw new Error(`The method \"${method}\" is invalid, it needs to be either \"after\" or \"before\".`);\n};\n\n/**\n * if print event handlers are not supported at all, throw an error\n */\nconst throwNotSupportedError = () => {\n  throw new Error('Sorry, looks like this browser does not support any print event handlers.');\n};\n\nexport {HAS_MATCH_MEDIA_SUPPORT};\nexport {HAS_ON_AFTER_PRINT};\nexport {HAS_ON_BEFORE_PRINT};\n\nexport {createNewEvent};\nexport {findAndRemoveHandler};\nexport {throwInvalidMethodError};\nexport {throwNotSupportedError};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils.js\n **/"],"sourceRoot":""}