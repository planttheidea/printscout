{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 013635afbd2d96b9f2e0","webpack:///./src/index.js","webpack:///./src/constants.js","webpack:///./src/utils.js"],"names":["PrintScout","afterHandlers","beforeHandlers","eventName","handlers","handler","window","addEventListener","push","remove","_removeListener","afterHandlerIndex","length","beforeHandlerIndex","handlerIndex","indexOf","removeEventListener","fn","_addListener","_removeAllListeners","AFTER","AFTER_PRINT","BEFORE","BEFORE_PRINT","HAS_MATCH_MEDIA_SUPPORT","HAS_ON_AFTER_PRINT","HAS_ON_BEFORE_PRINT","PRINT_MEDIA_QUERY_LIST","matchMedia","createNewEvent","Event","exception","e","document","createEvent","initEvent","addListener","mqlEvent","matches","dispatchEvent","findAndRemoveHandler","index","splice","throwInvalidMethodError","method","Error","throwNotSupportedError"],"mappings":"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","file":"printscout.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"PrintScout\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"PrintScout\"] = factory();\n\telse\n\t\troot[\"PrintScout\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 013635afbd2d96b9f2e0","// constants\nimport {\n  AFTER,\n  AFTER_PRINT,\n  BEFORE,\n  BEFORE_PRINT,\n  HAS_MATCH_MEDIA_SUPPORT,\n  HAS_ON_AFTER_PRINT,\n  HAS_ON_BEFORE_PRINT\n} from './constants';\n\n// utils\nimport {\n  findAndRemoveHandler,\n  throwInvalidMethodError,\n  throwNotSupportedError\n} from './utils';\n\nclass PrintScout {\n  constructor() {\n    if (!HAS_ON_AFTER_PRINT && !HAS_ON_BEFORE_PRINT && !HAS_MATCH_MEDIA_SUPPORT) {\n      throwNotSupportedError();\n    }\n  }\n\n  afterHandlers = [];\n  beforeHandlers = [];\n\n  /**\n   * add listener to list of a handlers and add remove function\n   * to it\n   *\n   * @param {string} eventName\n   * @param {array<function>} handlers\n   * @param {function} handler\n   * @returns {function}\n   */\n  _addListener(eventName, handlers, handler) {\n    window.addEventListener(eventName, handler);\n    handlers.push(handler);\n\n    handler.remove = () => {\n      this._removeListener(eventName, handler);\n\n      delete handler.remove;\n    };\n\n    return handler;\n  }\n\n  /**\n   * remove all listeners, either to the specific eventName if provided,\n   * or across the board\n   *\n   * @param {string} eventName\n   */\n  _removeAllListeners(eventName) {\n    let afterHandlerIndex = this.afterHandlers.length,\n        beforeHandlerIndex = this.beforeHandlers.length;\n\n    if (!eventName || eventName === AFTER || eventName === AFTER_PRINT) {\n      while (afterHandlerIndex--) {\n        this._removeListener(AFTER_PRINT, this.afterHandlers[afterHandlerIndex]);\n      }\n    }\n\n    if (!eventName || eventName === BEFORE || eventName === BEFORE_PRINT) {\n      while (beforeHandlerIndex--) {\n        this._removeListener(BEFORE_PRINT, this.beforeHandlers[beforeHandlerIndex]);\n      }\n    }\n  }\n\n  /**\n   * remove a specific listener from the appropriate handlers\n   *\n   * @param {string} eventName\n   * @param {function} handler\n   * @returns {PrintScout}\n   */\n  _removeListener(eventName, handler) {\n    const handlers = eventName === AFTER_PRINT ? this.afterHandlers : this.beforeHandlers;\n    const handlerIndex = handlers.indexOf(handler);\n\n    if (!!~handlerIndex) {\n      const handler = handlers[handlerIndex];\n\n      window.removeEventListener(eventName, handler);\n      findAndRemoveHandler(handlers, handler);\n    }\n\n    return this;\n  }\n\n  /**\n   * adds fn to the list of handlers\n   *\n   * @param {string} eventName\n   * @param {function} fn\n   * @returns {function}\n   */\n  addListener(eventName, fn) {\n    switch (eventName) {\n      case AFTER:\n      case AFTER_PRINT:\n        return this._addListener(AFTER_PRINT, this.afterHandlers, fn);\n\n      case BEFORE:\n      case BEFORE_PRINT:\n        return this._addListener(BEFORE_PRINT, this.beforeHandlers, fn);\n\n      default:\n        throwInvalidMethodError(eventName);\n        return;\n    }\n  }\n\n  /**\n   * convenience function for adding an afterprint listener\n   *\n   * @param {function} fn\n   * @returns {function}\n   */\n  after(fn) {\n    return this._addListener(AFTER_PRINT, this.afterHandlers, fn);\n  }\n\n  /**\n   * convenience function for adding a beforeprint listener\n   *\n   * @param {function} fn\n   * @returns {function}\n   */\n  before(fn) {\n    return this._addListener(BEFORE_PRINT, this.beforeHandlers, fn);\n  }\n\n  /**\n   * removes the handler from the list of handlers for\n   * the given eventName\n   *\n   * if the handler is not given, all handlers for the\n   * given eventName are removed\n   *\n   * if the eventName is not given, all handlers across the\n   * board are removed\n   *\n   * @param {string} eventName\n   * @param {function} handler\n   * @returns {PrintScout}\n   */\n  removeListener(eventName, handler) {\n    if (!eventName || !handler) {\n      this._removeAllListeners(eventName);\n      return;\n    }\n\n    switch (eventName) {\n      case AFTER:\n      case AFTER_PRINT:\n        return this._removeListener(AFTER_PRINT, handler);\n\n      case BEFORE:\n      case BEFORE_PRINT:\n        return this._removeListener(BEFORE_PRINT, handler);\n\n      default:\n        throwInvalidMethodError(eventName);\n        return this;\n    }\n  }\n}\n\nexport default PrintScout;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","export const AFTER = 'after';\nexport const AFTER_PRINT = 'afterprint';\nexport const BEFORE = 'before';\nexport const BEFORE_PRINT = 'beforeprint';\n\nexport const HAS_MATCH_MEDIA_SUPPORT = 'matchMedia' in window;\nexport const HAS_ON_AFTER_PRINT = 'onafterprint' in window;\nexport const HAS_ON_BEFORE_PRINT = 'onbeforeprint' in window;\n\nexport const PRINT_MEDIA_QUERY_LIST = HAS_MATCH_MEDIA_SUPPORT ? window.matchMedia('print') : null;\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants.js","// constants\nimport {\n  AFTER_PRINT,\n  BEFORE_PRINT,\n  HAS_MATCH_MEDIA_SUPPORT,\n  HAS_ON_AFTER_PRINT,\n  HAS_ON_BEFORE_PRINT,\n  PRINT_MEDIA_QUERY_LIST\n} from './constants';\n\n/**\n * when the Event constructor is supported then use it, else fall back\n * to creating event the old-fashioned way\n *\n * @param {string} eventName\n * @return {Event}\n */\nexport const createNewEvent = (eventName) => {\n  try {\n    return new Event(eventName);\n  } catch (exception) {\n    const e = document.createEvent('Event');\n\n    e.initEvent(eventName, false, false);\n\n    return e;\n  }\n};\n\nif (!HAS_ON_AFTER_PRINT && HAS_MATCH_MEDIA_SUPPORT) {\n  PRINT_MEDIA_QUERY_LIST.addListener((mqlEvent) => {\n    if (!mqlEvent.matches) {\n      window.dispatchEvent(createNewEvent(AFTER_PRINT));\n    }\n  });\n}\n\nif (!HAS_ON_BEFORE_PRINT && HAS_MATCH_MEDIA_SUPPORT) {\n  PRINT_MEDIA_QUERY_LIST.addListener((mqlEvent) => {\n    if (mqlEvent.matches) {\n      window.dispatchEvent(createNewEvent(BEFORE_PRINT));\n    }\n  });\n}\n\n/**\n * find the matching handler and remove it from the\n * list of handlers\n *\n * @param {array<function>} handlers\n * @param {function} handler\n * @return {array<function>}\n */\nexport const findAndRemoveHandler = (handlers, handler) => {\n  let handlerIndex = -1,\n      index = -1;\n\n  while (++index < handlers.length) {\n    if (handlers[index] === handler) {\n      handlerIndex = index;\n      break;\n    }\n  }\n\n  if (!!~handlerIndex) {\n    handlers.splice(handlerIndex, 1);\n  }\n\n  return handlers;\n};\n\n/**\n * if the method is invalid throw a new TypeError\n *\n * @param {string} method\n */\nexport const throwInvalidMethodError = (method) => {\n  throw new Error(`The method \"${method}\" is invalid, it needs to be either \"after\" or \"before\".`);\n};\n\n/**\n * if print event handlers are not supported at all, throw an error\n */\nexport const throwNotSupportedError = () => {\n  throw new Error('Sorry, looks like this browser does not support any print event handlers.');\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils.js"],"sourceRoot":""}