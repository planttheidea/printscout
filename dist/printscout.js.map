{"version":3,"sources":["webpack:///webpack/bootstrap 03423bef9d9882ec1582","webpack:///./src/index.js","webpack:///./src/utils.js"],"names":[],"mappings":"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","file":"printscout.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 03423bef9d9882ec1582\n **/","import {\n  findAndRemoveHandler,\n  HAS_MATCH_MEDIA_SUPPORT,\n  HAS_ON_AFTER_PRINT,\n  HAS_ON_BEFORE_PRINT,\n  throwInvalidMethodError,\n  throwNotSupportedError\n} from './utils';\n\nclass PrintScout {\n  constructor() {\n    this.afterHandlers = [];\n    this.beforeHandlers = [];\n\n    if (!HAS_ON_AFTER_PRINT && !HAS_ON_BEFORE_PRINT && !HAS_MATCH_MEDIA_SUPPORT) {\n      throwNotSupportedError();\n    }\n  }\n\n  /**\n   * remove all listeners, either to the specific method if provided,\n   * or across the board\n   *\n   * @param {string} method\n   * @private\n   */\n  _removeAllListeners(method) {\n    let afterHandlerIndex = this.afterHandlers.length,\n        beforeHandlerIndex = this.beforeHandlers.length,\n        handlerToRemove;\n\n    if (!method || method === 'after') {\n      while (afterHandlerIndex--) {\n        handlerToRemove = this.afterHandlers[afterHandlerIndex];\n\n        window.removeEventListener('afterprint', handlerToRemove);\n        findAndRemoveHandler(this.afterHandlers, handlerToRemove);\n      }\n    }\n\n    if (!method || method === 'before') {\n      while (beforeHandlerIndex--) {\n        handlerToRemove = this.beforeHandlers[beforeHandlerIndex];\n\n        window.removeEventListener('beforeprint', handlerToRemove);\n        findAndRemoveHandler(this.beforeHandlers, handlerToRemove);\n      }\n    }\n  }\n\n  /**\n   * adds fn to the list of handlers\n   *\n   * @param {string} method\n   * @param {function} fn\n   * @returns {function}\n   */\n  addListener(method, fn) {\n    let eventName,\n        handlersArray;\n\n    switch (method) {\n      case 'after':\n        eventName = 'afterprint';\n        handlersArray = this.afterHandlers;\n\n        break;\n\n      case 'before':\n        eventName = 'beforeprint';\n        handlersArray = this.beforeHandlers;\n\n        break;\n\n      default:\n        throwInvalidMethodError(method);\n        return;\n    }\n\n    window.addEventListener(eventName, fn);\n    handlersArray.push(fn);\n\n    return fn;\n  }\n\n  /**\n   * removes the handler from the list of handlers for\n   * the given method\n   *\n   * if the handler is not given, all handlers for the\n   * given method are removed\n   *\n   * if the method is not given, all handlers across the\n   * board are removed\n   *\n   * @param {string} method\n   * @param {function} handler\n   */\n  removeListener(method, handler) {\n    if (!method || !handler) {\n      this._removeAllListeners(method);\n      return;\n    }\n\n    let eventName,\n        handlersArray;\n\n    switch (method) {\n      case 'after':\n        eventName = 'afterprint';\n        handlersArray = this.afterHandlers;\n\n        break;\n\n      case 'before':\n        eventName = 'beforeprint';\n        handlersArray = this.beforeHandlers;\n\n        break;\n\n      default:\n        throwInvalidMethodError(method);\n        return;\n    }\n\n    window.removeEventListener(eventName, handler);\n    findAndRemoveHandler(handlersArray, handler);\n  }\n}\n\nexport default PrintScout;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","const HAS_ON_AFTER_PRINT = !!window.onafterprint;\nconst HAS_ON_BEFORE_PRINT = !!window.onbeforeprint;\nconst HAS_MATCH_MEDIA_SUPPORT = !!window.matchMedia;\n\nconst PRINT_MEDIA_QUERY_LIST = HAS_MATCH_MEDIA_SUPPORT ? window.matchMedia('print') : null;\n\n/**\n * when the Event constructor is supported then use it, else fall back\n * to creating event the old-fashioned way\n *\n * @param {string} eventName\n * @return {Event}\n */\nconst createNewEvent = (eventName) => {\n  try {\n    return new Event(eventName);\n  } catch (exception) {\n    const e = document.createEvent('Event');\n\n    e.initEvent(eventName, false, false);\n\n    return e;\n  }\n};\n\nif (!HAS_ON_AFTER_PRINT && HAS_MATCH_MEDIA_SUPPORT) {\n  PRINT_MEDIA_QUERY_LIST.addListener((mqlEvent) => {\n    if (!mqlEvent.matches) {\n      window.dispatchEvent(createNewEvent('afterprint'));\n    }\n  });\n}\n\nif (!HAS_ON_BEFORE_PRINT && HAS_MATCH_MEDIA_SUPPORT) {\n  PRINT_MEDIA_QUERY_LIST.addListener((mqlEvent) => {\n    if (mqlEvent.matches) {\n      window.dispatchEvent(createNewEvent('beforeprint'));\n    }\n  });\n}\n\n/**\n * find the matching handler and remove it from the\n * list of handlers\n *\n * @param {array<function>} handlers\n * @param {function} handler\n * @return {array<function>}\n */\nconst findAndRemoveHandler = (handlers, handler) => {\n  let handlerIndex = -1,\n    index = -1;\n\n  while (++index < handlers.length) {\n    if (handlers[index] === handler) {\n      handlerIndex = index;\n      break;\n    }\n  }\n\n  if (!!~handlerIndex) {\n    handlers.splice(handlerIndex, 1);\n  }\n\n  return handlers;\n};\n\n/**\n * if the method is invalid throw a new TypeError\n *\n * @param {string} method\n */\nconst throwInvalidMethodError = (method) => {\n  throw new TypeError(`The method \"${method}\" is invalid, it needs to be either \"after\" or \"before\".`);\n};\n\n/**\n * if print event handlers are not supported at all, throw an error\n */\nconst throwNotSupportedError = () => {\n  throw new TypeError('Sorry, looks like this browser does not support any print event handlers.');\n};\n\nexport {HAS_MATCH_MEDIA_SUPPORT};\nexport {HAS_ON_AFTER_PRINT};\nexport {HAS_ON_BEFORE_PRINT};\n\nexport {createNewEvent};\nexport {findAndRemoveHandler};\nexport {throwInvalidMethodError};\nexport {throwNotSupportedError};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils.js\n **/"],"sourceRoot":""}